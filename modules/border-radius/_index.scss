@use '../config' as *;
@use '../prefixer' as *;
@use '../background/clip' as *;

@mixin border-radius($radius: $border-radius, $clip: null) {

	// –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ $clip –∏—Å—Ç–∏–Ω–∞ (true) –∏–ª–∏ "padding",
	// —Ç–æ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ "padding-box" —Å–≤–æ–π—Å—Ç–≤—É background-clip:
	@if $clip == true or $clip == padding or $clip == border {

		$clipValue: null !default;

		@if $clip == true or $clip == padding {
			$clipValue: padding-box;
		} @else {
			$clipValue: border-box;
		}

		// ? —Ç.–∫. Firefox –¥–æ –≤–µ—Ä—Å–∏–∏ 4 –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–≤–æ–π—Å—Ç–≤–æ
		// ? —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º –∏ –∑–Ω–∞—á–µ–Ω–∏—è padding –∏ border
		@include background-clip($clipValue);

	} @else if $clip != null {
		background-clip: #{$clip}-box;
	}

	// –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–≤–æ–π—Å—Ç–≤–æ border-radius —Å–æ –≤—Å–µ–º–∏
	// –Ω—É–∂–Ω—ã–º–∏ –ø—Ä–µ—Ñ–∏–∫—Å–∞–º–∏:
	@include prefixer(
		border-radius,
		$radius,
		$prfxs_border-radius
	);

	// –æ–ø–æ–≤–µ—Å—Ç–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –æ —Ç–æ–º, —á—Ç–æ –µ–≥–æ
	// –º–∞—à–∏–Ω–∞ –∑—Ä—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –ø—ã—Ç–∞–µ—Ç—Å—è —Å–≥–µ–Ω–µ—Ä–∏—Ç—å –ø—É—Å—Ç–æ–π –º–∏–∫—Å–∏–Ω:
	@if $radius == null {
		@warn 'üëª –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—É—Å—Ç–æ–π –º–∏–∫—Å–∏–Ω "border-radius"!'
	}

}
